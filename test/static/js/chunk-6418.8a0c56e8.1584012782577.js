(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6418"],{GLI9:function(t,e,a){"use strict";a("Kw5r").default.directive("noMoreClick",{inserted:function(t,e){t.addEventListener("click",function(e){t.classList.add("is-disabled"),t.disabled=!0,setTimeout(function(){t.disabled=!1,t.classList.remove("is-disabled")},3e3)})}})},J4oj:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"d",function(){return o}),a.d(e,"e",function(){return r}),a.d(e,"f",function(){return s}),a.d(e,"g",function(){return n}),a.d(e,"b",function(){return c}),a.d(e,"c",function(){return d});var l=a("t3Un");function i(t,e,a){var i=new URLSearchParams;return i.append("materialsListJson",t),2!==e.length&&null!==e&&void 0!==e&&i.append("materialsListDetailJson",e),""!==a.repositoryId&&null!==a.repositoryId&&void 0!==a.repositoryId&&i.append("repositoryId",a.repositoryId),""!==a.regionId&&null!==a.regionId&&void 0!==a.regionId&&i.append("regionId",a.regionId),Object(l.a)({url:"/materialslist/addmaterials",method:"post",data:i})}function o(t){var e=new URLSearchParams;return""!==t.materialsId&&null!==t.materialsId&&void 0!==t.materialsId&&e.append("materialsId",t.materialsId),""!==t.bomNumber&&null!==t.bomNumber&&void 0!==t.bomNumber&&e.append("bomNumber",t.bomNumber),""!==t.bomTypeId&&null!==t.bomTypeId&&void 0!==t.bomTypeId&&e.append("bomTypeId",t.bomTypeId),""!==t.productName&&null!==t.productName&&void 0!==t.productName&&e.append("productName",t.productName),""!==t.judgeStat&&null!==t.judgeStat&&void 0!==t.judgeStat&&e.append("judgeStat",t.judgeStat),e.append("pageNum",t.pageNum),e.append("pageSize",t.pageSize),Object(l.a)({url:"/materialslist/materialslist",method:"post",data:e})}function r(t){var e=new URLSearchParams;return""!==t&&null!==t&&void 0!==t&&e.append("productCode",t),Object(l.a)({url:"/materialslist/materialslist",method:"post",data:e})}function s(t,e){var a=new URLSearchParams;return a.append("materialsListJson",t),a.append("materialsListDetailJson",e),Object(l.a)({url:"/materialslist/updatematerials",method:"post",data:a})}function n(t){var e=new URLSearchParams;return e.append("materialsListJson",t),Object(l.a)({url:"/materialslist/updatematerials",method:"post",data:e})}function c(t,e){var a=new URLSearchParams;return""!==t&&null!==t&&void 0!==t&&a.append("materialsIds",t),""!==e&&null!==e&&void 0!==e&&a.append("operatorId",e),Object(l.a)({url:"/materialslist/deletematerials",method:"post",data:a})}function d(t){var e=new URLSearchParams;return""!==t&&null!==t&&void 0!==t&&e.append("productCode",t),Object(l.a)({url:"/materialslist/isExist",method:"post",data:e})}},Njn1:function(t,e,a){},asgc:function(t,e,a){"use strict";var l=a("tI/g");a.n(l).a},brmI:function(t,e,a){"use strict";a.r(e);var l=a("gDS+"),i=a.n(l),o=(a("GLI9"),a("6HaC")),r=a("J4oj"),s=a("m1cH"),n=a.n(s),c=a("VG0r"),d=a("ZySA"),u=a("Mz3J"),p=a("yo+U"),m=a("fNFo"),f={directives:{waves:d.a},components:{MyTree:m.a,MySupplier:p.a,Pagination:u.a},filters:{genderFilter:function(t){return{1:"男",2:"女"}[t]}},props:{control:{type:Boolean,default:!1},checklist:{type:Array,default:function(){return[]}}},data:function(){return{select_orderId:[],select_order_number:[],checklistprop:this.checklist,supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.control,visible2:!1,moreaction:[],list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{control:function(){this.productVisible=this.control,this.getlist()},checklist:function(){this.checklistprop=this.checklist;var t=this.$refs.multipleTable.selection,e=this.checklistprop,a=t.filter(function(t){return!e.some(function(e){return e.productCode===t.code})});for(var l in console.log("add",a),this.$refs.multipleTable.selection)for(var i in a)this.$refs.multipleTable.selection[l].code===a[i].code&&this.$refs.multipleTable.selection.splice(l,1);console.log("this.$refs.multipleTable.selection",this.$refs.multipleTable.selection)},list:function(){console.log("this.select_orderId",this.select_orderId)}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getRowKeys:function(t){return t.code},getlist:function(){var t=this;this.listLoading=!0,Object(c.t)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount),setTimeout(function(){t.listLoading=!1},50)}),Object(c.v)(2).then(function(e){200===e.data.ret&&(t.types=e.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var t=this;this.getemplist.pagenum=1,Object(c.t)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount)})},handleSelectionChange:function(t){var e=this;this.moreaction=t,this.select_order_number=this.moreaction.length,this.select_orderId=[],t&&t.forEach(function(t){t&&e.select_orderId.push(t.code)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(t){console.log(t),this.supplierid=t.supplierName,this.getemplist.supplierid=t.id},treechoose:function(){this.treecontrol=!0},tree:function(t){this.categoryid=t.categoryName,this.getemplist.categoryid=t.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleAddTo:function(){this.productVisible=!1,console.log("this.select_orderId",this.select_orderId),console.log("this.$refs.multipleTable.selection",this.$refs.multipleTable.selection),console.log(this.moreaction);var t=this.moreaction.map(function(t){return{productCode:t.code,productName:t.productName,color:t.color,typeId:t.typeId,lossRate:0,quantity:1,isKey:"1",categoryId:t.categoryId,productCategory:t.category,unit:t.purMeasu,productType:t.productType,typeIdname:t.productType}});console.log(t);var e=this.checklistprop,a=t,l=[];for(var i in a)for(var o in e)e[o].productCode===a[i].productCode&&l.push(e[o]);var r=a.filter(function(t){return!l.some(function(e){return e.productCode===t.productCode})});console.log(r),console.log(l),console.log(this.$refs.multipleTable.selection);var s=[].concat(l,n()(r));console.log("productDetail2",s),this.$emit("product",s)}}},v=(a("glYG"),a("KHd+")),g=Object(v.a)(f,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.productVisible,control:t.control,"close-on-press-escape":!1,title:t.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(e){t.productVisible=e},close:function(e){t.$emit("update:control",!1)}}},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.code"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.code,callback:function(e){t.$set(t.getemplist,"code",e)},expression:"getemplist.code"}}),t._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.productname,callback:function(e){t.$set(t.getemplist,"productname",e)},expression:"getemplist.productname"}}),t._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.supplierid"),clearable:""},on:{focus:t.handlechoose,clear:t.restFilter2},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.supplierid,callback:function(e){t.supplierid=e},expression:"supplierid"}}),t._v(" "),a("my-supplier",{attrs:{control:t.empcontrol},on:{"update:control":function(e){t.empcontrol=e},supplierName:t.supplierName}}),t._v(" "),a("el-select",{staticClass:"filter-item",attrs:{placeholder:t.$t("Hmodule.wpfl"),clearable:""},model:{value:t.getemplist.categoryid,callback:function(e){t.$set(t.getemplist,"categoryid",e)},expression:"getemplist.categoryid"}},[a("el-option",{attrs:{label:t.$t("otherlanguage.zc"),value:"1"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.pj"),value:"2"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.jgj"),value:"3"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.xhp"),value:"4"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.dc"),value:"5"}})],1),t._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[a("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:t.$t("Hmodule.qxzggxh"),clearable:""},model:{value:t.getemplist.typeid,callback:function(e){t.$set(t.getemplist,"typeid",e)},expression:"getemplist.typeid"}},t._l(t.types,function(t,e){return a("el-option",{key:e,attrs:{label:t.categoryName,value:t.id}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:t.$t("Hmodule.qxzsxj"),clearable:""},model:{value:t.getemplist.isactive,callback:function(e){t.$set(t.getemplist,"isactive",e)},expression:"getemplist.isactive"}},[a("el-option",{attrs:{label:t.$t("Hmodule.s1"),value:"1"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("Hmodule.x2"),value:"2"}})],1),t._v(" "),a("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))])],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(e){t.visible2=!t.visible2}},slot:"reference"},[t._v(t._s(t.$t("public.filter"))),a("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))]),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("public.add")))])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.list,"row-key":t.getRowKeys,border:"",fit:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{"reserve-selection":!0,type:"selection",width:"55",fixed:"left",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.category))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productType))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.color))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.kpiGrade))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.point))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.salePrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.purchasePrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime))])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:t.total,page:t.getemplist.pagenum,limit:t.getemplist.pagesize},on:{"update:page":function(e){t.$set(t.getemplist,"pagenum",e)},"update:limit":function(e){t.$set(t.getemplist,"pagesize",e)},pagination:t.getlist}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:t.handleAddTo}},[t._v(t._s(t.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"16e8a54f",null);g.options.__file="MyDetail.vue";var h=g.exports,b={name:"AddMaterialsList",components:{MyMater:a("z1Ei").a,MyDetail:h},data:function(){return{checklist:[],productTypeId:"",matercontrol:!1,isKeyList:[{value:"1",label:"是"},{value:"2",label:"否"}],control:!1,personalForm:{isActive:1,bomNumber:"",createPersonId:this.$store.getters.userId,countryId:this.$store.getters.countryId,repositoryId:this.$store.getters.repositoryId,regionId:this.$store.getters.regionId},personalrules:{bomNumber:[{required:!0,message:"请输入BOM编码",trigger:"blur"}],bomTypeId:[{required:!0,message:"请选择BOM类型",trigger:"change"}],isActive:[{required:!0,message:"请选择启用状态",trigger:"change"}],productName:[{required:!0,message:"请选择父件",trigger:"blue"}]},list2:[],validRules:{}}},created:function(){this.getBom()},beforeCreate:function(){this},methods:{getBom:function(){var t=this;Object(o.t)().then(function(e){200===e.data.ret&&(console.log("res.data.ret ",e.data.data.content),t.personalForm.bomNumber=e.data.data.content,console.log("this.personalForm.bomNumber",t.personalForm.bomNumber)),setTimeout(function(){t.listLoading=!1},50)})},handlemater:function(){this.matercontrol=!0},mater:function(t){var e=this;Object(r.c)(t.code).then(function(a){if(!1===a.data.data.content)e.personalForm.productName=t.productName,e.personalForm.unit=t.purMeasu,e.personalForm.productTypeId=t.typeId,e.productTypeId=t.productType,e.personalForm.productCode=t.code,e.personalForm.color=t.color;else if(!0===a.data.data.content)return e.$notify.error({title:"wrong",message:"物料已添加",offset:100}),!1})},handleAddproduct:function(){this.control=!0,this.checklist=this.$refs.editable.getRecords()},productdetail:function(t){var e=this;console.log(t);var a=this.$refs.editable.getRecords();console.log(a);var l=t.findIndex(function(t,a,l){return t.productCode===e.personalForm.productCode});console.log(l),this.list2=t.filter(function(t){return t.productCode!==e.personalForm.productCode})},restAllForm:function(){this.personalForm={isActive:1,bomNumber:"",createPersonId:this.$store.getters.userId,countryId:this.$store.getters.countryId,repositoryId:this.$store.getters.repositoryId,regionId:this.$store.getters.regionId},this.productTypeId=null,this.getBom()},handlesave:function(){var t=this,e=this.$refs.editable.getRecords();if(0===e.length)return this.$notify.error({title:"wrong",message:this.$t("prompt.mxbbnwk"),offset:100}),!1;e.map(function(t){return t}).forEach(function(t){return null!==t.productCode&&""!==t.productCode&&void 0!==t.productCode||delete t.productCode,null!==t.productName&&""!==t.productName&&void 0!==t.productName||delete t.productName,null!==t.color&&""!==t.color&&void 0!==t.color||delete t.color,null!==t.typeId&&""!==t.typeId&&void 0!==t.typeId||delete t.typeId,null!==t.unit&&""!==t.unit&&void 0!==t.unit||delete t.unit,null!==t.categoryId&&""!==t.categoryId&&void 0!==t.categoryId||delete t.categoryId,null!==t.quantity&&""!==t.quantity&&void 0!==t.quantity||delete t.quantity,null!==t.lossRate&&""!==t.lossRate&&void 0!==t.lossRate||delete t.lossRate,null!==t.isKey&&""!==t.isKey&&void 0!==t.isKey||delete t.isKey,t});var a=i()(e),l=this.personalForm;for(var o in l)""!==l[o]&&void 0!==l[o]&&null!==l[o]||delete l[o];var s=i()(l);this.$refs.personalForm.validate(function(e){if(!e)return t.$notify.error({title:"wrong",message:"Information is incomplete",offset:100}),!1;t.$refs.editable.validate().then(function(e){e&&Object(r.a)(s,a,t.personalForm).then(function(e){console.log(e),200===e.data.ret?(t.$notify({title:"successful",message:"save successful",type:"success",offset:100}),t.restAllForm(),t.$refs.editable.clear(),t.$refs.personalForm.clearValidate(),t.$refs.personalForm.resetFields(),t.$refs.personalForm2.clearValidate(),t.$refs.personalForm2.resetFields()):t.$notify.error({title:"wrong",message:e.data.msg,offset:100})})}).catch(function(e){return t.$notify.error({title:"wrong",message:"Information is incomplete",offset:100}),!1})})},handlecancel:function(){this.$router.go(-1);this.$store.dispatch("delView",{path:"/MaterialsList/AddMaterialsList",name:"AddMaterialsList",fullPath:"/MaterialsList/AddMaterialsList",title:"AddMaterialsList"}).then(function(t){t.visitedViews})}}},y=(a("asgc"),Object(v.a)(b,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ERP-container"},[a("div",{staticClass:"app-container",staticStyle:{"padding-right":"0"}},[a("el-card",{staticClass:"box-card"},[a("h2",{ref:"geren",staticClass:"form-name"},[t._v(t._s(t.$t("Hmodule.basicinfo")))]),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.personalForm,rules:t.personalrules,inline:!0,"status-icon":"","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.bomNumber"),prop:"bomNumber"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:t.personalForm.bomNumber,callback:function(e){t.$set(t.personalForm,"bomNumber",e)},expression:"personalForm.bomNumber"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.bomTypeId"),prop:"bomTypeId"}},[a("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.bomTypeId,callback:function(e){t.$set(t.personalForm,"bomTypeId",e)},expression:"personalForm.bomTypeId"}},[a("el-option",{attrs:{value:"1",label:"工艺BOM"}}),t._v(" "),a("el-option",{attrs:{value:"2",label:"设计BOM"}}),t._v(" "),a("el-option",{attrs:{value:"3",label:"制造BOM"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.isActive"),prop:"isActive"}},[a("el-radio-group",{staticStyle:{"margin-left":"18px",width:"200px"},model:{value:t.personalForm.isActive,callback:function(e){t.$set(t.personalForm,"isActive",e)},expression:"personalForm.isActive"}},[a("el-radio",{staticStyle:{width:"100px"},attrs:{label:1}},[t._v("启用")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("未启用")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.version")}},[a("el-select",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.version,callback:function(e){t.$set(t.personalForm,"version",e)},expression:"personalForm.version"}},[a("el-option",{attrs:{value:"1",label:"版本1"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.summary")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{clearable:""},model:{value:t.personalForm.summary,callback:function(e){t.$set(t.personalForm,"summary",e)},expression:"personalForm.summary"}})],1)],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("h2",{ref:"geren",staticClass:"form-name"},[t._v(t._s(t.$t("updates.fjxx")))]),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{ref:"personalForm2",staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:t.personalForm,rules:t.personalrules,inline:!0,"status-icon":"","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.productName"),prop:"productName"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},on:{focus:t.handlemater},model:{value:t.personalForm.productName,callback:function(e){t.$set(t.personalForm,"productName",e)},expression:"personalForm.productName"}})],1)],1),t._v(" "),a("my-mater",{attrs:{matercontrol:t.matercontrol},on:{"update:matercontrol":function(e){t.matercontrol=e},mater:t.mater}}),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.unit"),prop:"unit"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:t.personalForm.unit,callback:function(e){t.$set(t.personalForm,"unit",e)},expression:"personalForm.unit"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.productTypeId"),prop:"productTypeId"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:t.productTypeId,callback:function(e){t.productTypeId=e},expression:"productTypeId"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.code")}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:t.personalForm.productCode,callback:function(e){t.$set(t.personalForm,"productCode",e)},expression:"personalForm.productCode"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:t.$t("MaterialsList.color"),prop:"color"}},[a("el-input",{staticStyle:{"margin-left":"18px",width:"200px"},attrs:{disabled:""},model:{value:t.personalForm.color,callback:function(e){t.$set(t.personalForm,"color",e)},expression:"personalForm.color"}})],1)],1)],1)],1)],1)]),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[a("h2",{ref:"fuzhu",staticClass:"form-name"},[t._v(t._s(t.$t("updates.zjxx")))]),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"margin-top":"58px"}},[a("el-button",{staticStyle:{background:"#3696fd","border-color":"#3696fd"},attrs:{type:"success"},on:{click:t.handleAddproduct}},[t._v(t._s(t.$t("Hmodule.tjsp")))]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.$refs.editable.removeSelecteds()}}},[t._v(t._s(t.$t("Hmodule.delete")))])],1),t._v(" "),a("my-detail",{attrs:{control:t.control,checklist:t.checklist},on:{"update:control":function(e){t.control=e},"update:checklist":function(e){t.checklist=e},product:t.productdetail}}),t._v(" "),a("div",{staticClass:"container"},[a("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:t.list2,"edit-config":{showIcon:!0,showStatus:!0},"edit-rules":t.validRules,stripe:"",border:"",size:"medium"},on:{"update:data":function(e){t.list2=e}}},[a("el-editable-column",{attrs:{type:"selection","min-width":"55",align:"center"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("Hmodule.xh"),"min-width":"55",align:"center",type:"index"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("updates.zj"),prop:"productCode",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("updates.zjmc"),prop:"productName",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("Hmodule.gg"),prop:"typeIdname",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("updates.ys"),prop:"color",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("updates.zjlx"),prop:"productCategory",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{label:t.$t("Hmodule.dw"),prop:"unit",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0},type:"visible"},label:t.$t("updates.de"),prop:"quantity",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{"edit-render":{name:"ElInputNumber",attrs:{min:0,max:1},type:"visible"},label:t.$t("updates.shl"),prop:"lossRate",align:"center","min-width":"150px"}}),t._v(" "),a("el-editable-column",{attrs:{"edit-render":{name:"ElSelect",options:t.isKeyList,type:"visible"},label:t.$t("updates.sfgjj"),prop:"isKey",align:"center","min-width":"150px"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"buttons",staticStyle:{"margin-top":"20px"}},[a("el-button",{directives:[{name:"no-more-click",rawName:"v-no-more-click"}],staticStyle:{background:"#3696fd","border-color":"#3696fd",width:"98px"},attrs:{type:"primary"},on:{click:function(e){t.handlesave()}}},[t._v(t._s(t.$t("Hmodule.baoc")))]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.handlecancel()}}},[t._v(t._s(t.$t("Hmodule.cancel")))])],1)],1)])},[],!1,null,"64b96179",null));y.options.__file="AddMaterialsList.vue";e.default=y.exports},"gDS+":function(t,e,a){t.exports={default:a("oh+g"),__esModule:!0}},gNiD:function(t,e,a){"use strict";var l=a("sfOx");a.n(l).a},glYG:function(t,e,a){"use strict";var l=a("Njn1");a.n(l).a},"oh+g":function(t,e,a){var l=a("WEpk"),i=l.JSON||(l.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},sfOx:function(t,e,a){},"tI/g":function(t,e,a){},z1Ei:function(t,e,a){"use strict";var l=a("VG0r"),i=a("ZySA"),o=a("Mz3J"),r=a("yo+U"),s=a("fNFo"),n={directives:{waves:i.a},components:{MyTree:s.a,MySupplier:r.a,Pagination:o.a},filters:{genderFilter:function(t){return{1:"男",2:"女"}[t]}},props:{matercontrol:{type:Boolean,default:!1}},data:function(){return{supplierid:"",empcontrol:!1,types:[],treecontrol:!1,categoryid:"",productVisible:this.matercontrol,visible2:!1,moreaction:"",list:[],total:0,tableKey:0,listLoading:!0,getemplist:{productid:"",code:"",productname:"",categoryid:"",typeid:"",isactive:"",Productid:"",pagenum:1,pagesize:10}}},watch:{matercontrol:function(){this.productVisible=this.matercontrol,this.getlist()}},created:function(){this.getlist()},beforeCreate:function(){this},methods:{getlist:function(){var t=this;this.listLoading=!0,Object(l.t)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount),setTimeout(function(){t.listLoading=!1},50)}),Object(l.v)(2).then(function(e){200===e.data.ret&&(t.types=e.data.data.content.list)})},restFilter:function(){this.categoryid="",this.getemplist.categoryid=""},restFilter2:function(){this.supplierid="",this.getemplist.supplierid=""},handleFilter:function(){var t=this;this.getemplist.pagenum=1,Object(l.t)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount)})},handlechoose:function(){this.empcontrol=!0},supplierName:function(t){console.log(t),this.supplierid=t.supplierName,this.getemplist.supplierid=t.id},treechoose:function(){this.treecontrol=!0},tree:function(t){this.categoryid=t.categoryName,this.getemplist.categoryid=t.id},handleAdd:function(){this.$router.push("/Product/NewProduct"),this.productVisible=!1},handleCurrentChange:function(t){this.moreaction=t},handleAddTo:function(){this.productVisible=!1,this.$emit("mater",this.moreaction)}}},c=(a("gNiD"),a("KHd+")),d=Object(c.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.productVisible,matercontrol:t.matercontrol,"close-on-press-escape":!1,title:t.$t("Hmodule.xzsp"),top:"10px","append-to-body":""},on:{"update:visible":function(e){t.productVisible=e},close:function(e){t.$emit("update:matercontrol",!1)}}},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.code"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.code,callback:function(e){t.$set(t.getemplist,"code",e)},expression:"getemplist.code"}}),t._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.productname"),clearable:""},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.productname,callback:function(e){t.$set(t.getemplist,"productname",e)},expression:"getemplist.productname"}}),t._v(" "),a("el-input",{staticClass:"filter-item",attrs:{placeholder:t.$t("Product.supplierid"),clearable:""},on:{focus:t.handlechoose,clear:t.restFilter2},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.supplierid,callback:function(e){t.supplierid=e},expression:"supplierid"}}),t._v(" "),a("my-supplier",{attrs:{control:t.empcontrol},on:{"update:control":function(e){t.empcontrol=e},supplierName:t.supplierName}}),t._v(" "),a("el-select",{staticClass:"filter-item",attrs:{placeholder:t.$t("Hmodule.wpfl"),clearable:""},model:{value:t.getemplist.categoryid,callback:function(e){t.$set(t.getemplist,"categoryid",e)},expression:"getemplist.categoryid"}},[a("el-option",{attrs:{label:t.$t("otherlanguage.zc"),value:"1"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.pj"),value:"2"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.jgj"),value:"3"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.xhp"),value:"4"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("otherlanguage.dc"),value:"5"}})],1),t._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"500",trigger:"click"},model:{value:t.visible2,callback:function(e){t.visible2=e},expression:"visible2"}},[a("el-select",{staticStyle:{width:"40%",float:"left","margin-left":"20px"},attrs:{placeholder:t.$t("Hmodule.qxzggxh"),clearable:""},model:{value:t.getemplist.typeid,callback:function(e){t.$set(t.getemplist,"typeid",e)},expression:"getemplist.typeid"}},t._l(t.types,function(t,e){return a("el-option",{key:e,attrs:{label:t.categoryName,value:t.id}})})),t._v(" "),a("el-select",{staticStyle:{width:"40%",float:"right","margin-right":"20px"},attrs:{placeholder:t.$t("Hmodule.qxzsxj"),clearable:""},model:{value:t.getemplist.isactive,callback:function(e){t.$set(t.getemplist,"isactive",e)},expression:"getemplist.isactive"}},[a("el-option",{attrs:{label:t.$t("Hmodule.s1"),value:"1"}}),t._v(" "),a("el-option",{attrs:{label:t.$t("Hmodule.x2"),value:"2"}})],1),t._v(" "),a("div",{staticClass:"seachbutton",staticStyle:{width:"100%",float:"right","margin-top":"20px"}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))])],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{slot:"reference",type:"primary"},on:{click:function(e){t.visible2=!t.visible2}},slot:"reference"},[t._v(t._s(t.$t("public.filter"))),a("svg-icon",{staticStyle:{"margin-left":"4px"},attrs:{"icon-class":"shaixuan"}})],1)],1),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))]),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:t.handleAdd}},[t._v(t._s(t.$t("public.add")))])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[a("el-table-column",{attrs:{label:t.$t("Product.code"),resizable:!1,prop:"code",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.code))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.productname"),resizable:!1,prop:"ProductName",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.categoryid"),resizable:!1,prop:"category",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.category))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.typeid"),resizable:!1,align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productType))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.color"),resizable:!1,prop:"color",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.color))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.kpigrade"),resizable:!1,prop:"kpiGrade",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.kpiGrade))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.point"),resizable:!1,prop:"point",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.point))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.saleprice"),resizable:!1,prop:"costPrice",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.salePrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.purchaseprice"),resizable:!1,prop:"purchasePrice",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.purchasePrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.createid"),resizable:!1,prop:"createName",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("Product.createTime"),resizable:!1,prop:"createTime",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime))])]}}])})],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],staticStyle:{padding:"0"},attrs:{total:t.total,page:t.getemplist.pagenum,limit:t.getemplist.pagesize},on:{"update:page":function(e){t.$set(t.getemplist,"pagenum",e)},"update:limit":function(e){t.$set(t.getemplist,"pagesize",e)},pagination:t.getlist}}),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"text-align":"center"},attrs:{type:"success"},on:{click:t.handleAddTo}},[t._v(t._s(t.$t("Hmodule.sure")))])],1)],1)},[],!1,null,"ab5d133c",null);d.options.__file="MyMater.vue";e.a=d.exports}}]);