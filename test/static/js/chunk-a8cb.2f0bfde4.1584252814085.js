(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a8cb"],{"+e4/":function(t,e,a){},"/4CO":function(t,e,a){"use strict";var n,l={filters:{statfilter:function(t){return{0:n.$t("updates.wsh"),1:n.$t("updates.shz"),2:n.$t("Hmodule.shtg"),3:n.$t("Hmodule.shbtg")}[t]},stockTypeIdFilter:function(t){return{1:"采购1"}[t]},sourceTypeFilter:function(t){return{1:n.$t("updates.cgsq"),2:n.$t("updates.cgjhd"),3:n.$t("updates.cgxjd"),4:n.$t("Hmodule.Nosource")}[t]},currencyIdFilter:function(t){return{1:"PHP",2:"USD",3:"RMB"}[t]},receiptStatFilter:function(t){return{1:n.$t("updates.zd"),2:n.$t("updates.zx"),3:n.$t("updates.jd")}[t]},payIdFilter:function(t){return{1:"现金"}[t]}},props:{detailcontrol:{type:Boolean,default:!1},detaildata:{type:Object,default:null}},data:function(){return{reviewList:[],list2:[],total:0,tableKey:0,editVisible:this.detailcontrol,personalForm:this.detaildata}},watch:{detailcontrol:function(){this.editVisible=this.detailcontrol},detaildata:function(){this.personalForm=this.detaildata,this.list2=this.personalForm.stockOrderVos,console.log(this.personalForm)}},beforeCreate:function(){n=this},methods:{getTaxMoney2:function(t){return t.taxMoney=t.price*t.taxRate,t.taxMoney},getTaxMoney:function(t){return t.includeTaxMoney=t.plannedQuantity*t.includeTaxPrice,t.includeTaxMoney},getMoney:function(t){return t.money=t.plannedQuantity*t.price,t.money},handlecancel:function(){this.editVisible=!1}}},i=(a("gOr1"),a("KHd+")),o=Object(i.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"edit",attrs:{visible:t.editVisible,detailcontrol:t.detailcontrol,detaildata:t.detaildata,"close-on-press-escape":!1,title:t.personalForm.sourceNumber+t.$t("updates.xqing"),"append-to-body":"",width:"1010px",top:"-10px"},on:{"update:visible":function(e){t.editVisible=e},close:function(e){t.$emit("update:detailcontrol",!1)}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[a("el-table",{key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list2,border:"",fit:"",height:"800px"}},[a("el-table-column",{attrs:{label:t.$t("StockQuery.productCode"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.personalForm.productCode))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.productName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.personalForm.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.typeId"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.personalForm.typeId))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.unit"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.personalForm.unit))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.orderNumber"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderNumber))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.orderDate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.orderDate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.stockPersonName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockPersonName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.supplierName"),resizable:!1,prop:"judgeStat",align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.supplierName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.price"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockOrderDetailVos[0].price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.taxRate"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockOrderDetailVos[0].taxRate))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.includeTaxPrice"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockOrderDetailVos[0].includeTaxPrice))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.stockQuantity"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockOrderDetailVos[0].stockQuantity))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.money"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.stockOrderDetailVos[0].money))])]}}])})],1)],1)],1)},[],!1,null,"0407cf1b",null);o.options.__file="DetailList.vue";e.a=o.exports},Vdx5:function(t,e,a){"use strict";a.r(e);var n=a("P2sY"),l=a.n(n),i=a("NG3u"),o=a("ZySA"),r=a("Mz3J"),s=a("/4CO"),c=a("jgVJ"),u=a("aIGi"),d=["quantity"],p={name:"StockCount",directives:{waves:o.a},components:{MySupplier:u.a,MyDetail:c.a,DetailList:s.a,Pagination:r.a},data:function(){return{formTheadOptions:["quantity","includeTaxMoney","includeTaxPrice","totalMoney"],formThead:d,checkboxVal:d,supplierId:"",empcontrol:!1,productName:"",control:!1,detailvisible:!1,list:[],total:0,tableKey:0,listLoading:!1,getemplist:{pageNum:1,pageSize:10},personalForm:{},editVisible:!1,date:[]}},watch:{checkboxVal:function(t){this.formThead=this.formTheadOptions.filter(function(e){return t.indexOf(e)>=0}),console.log(this.formThead),this.tableKey=this.tableKey+1}},mounted:function(){this.getchecked(),this.getamouthDate()},beforeCreate:function(){this},methods:{getamouthDate:function(){var t=new Date,e=new Date;e.setDate(1),this.date=[e,t]},getchecked:function(){this.checkboxVal="quantity"},handlechoose:function(){this.empcontrol=!0},supplierName:function(t){this.supplierId=t.supplierName,this.getemplist.supplierId=t.id},handleAddproduct:function(){this.control=!0},product:function(t){this.getemplist.productName=t.productName,this.getemplist.productCode=t.code},getlist:function(){var t=this;this.listLoading=!0,Object(i.c)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content,t.total=e.data.data.content.length),setTimeout(function(){t.listLoading=!1},50)})},restFilter:function(){this.supplierId="",this.getemplist.supplierId=""},restFilter2:function(){this.stockPersonId="",this.getemplist.stockPersonId=""},handleFilter:function(){var t=this;this.getemplist.pageNum=1,null!==this.date&&""!==this.date?(this.getemplist.beginTime=this.date[0],this.getemplist.endTime=this.date[1]):(this.getemplist.beginTime=null,this.getemplist.endTime=null),Object(i.c)(this.getemplist).then(function(e){200===e.data.ret&&(t.list=e.data.data.content.list,t.total=e.data.data.content.totalCount)})},handleDetail:function(t){console.log(t),this.detailvisible=!0,this.personalForm=l()({},t)},handleExport:function(){var t=this;this.downloadLoading=!0,Promise.all([a.e("chunk-ef4a"),a.e("chunk-069c")]).then(a.bind(null,"S/jZ")).then(function(e){var a=t.formatJson(["id","StockQueryName","StockQueryShortName","typeName","regionName","buyerName","levelName","createName","createTime"],t.list);e.export_json_to_excel({header:["供应商编号","供应商名称","供应商简称","供应商类别","所在区域","采购员","供应商优质级别","建档人","建档日期"],data:a,filename:"经销商资料表"}),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},handlePrint:function(){console.log(456)}}},m=(a("u6h6"),a("KHd+")),f=Object(m.a)(p,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ERP-container"},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:t.$t("StockQuery.productCode"),clearable:""},on:{focus:t.handleAddproduct},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.getemplist.productCode,callback:function(e){t.$set(t.getemplist,"productCode",e)},expression:"getemplist.productCode"}}),t._v(" "),a("my-detail",{attrs:{control:t.control},on:{"update:control":function(e){t.control=e},product:t.product}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:t.$t("StockQuery.supplierId"),clearable:""},on:{clear:t.restFilter,focus:t.handlechoose},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.supplierId,callback:function(e){t.supplierId=e},expression:"supplierId"}}),t._v(" "),a("my-supplier",{attrs:{control:t.empcontrol},on:{"update:control":function(e){t.empcontrol=e},supplierName:t.supplierName}}),t._v(" "),a("el-date-picker",{staticStyle:{width:"230px"},attrs:{type:"daterange","range-separator":"-","unlink-panels":"","start-placeholder":"Start","end-placeholder":"End","value-format":"yyyy-MM-dd"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px","margin-top":"10px"},attrs:{type:"primary",icon:"el-icon-search",round:""},on:{click:t.handleFilter}},[t._v(t._s(t.$t("public.search")))])],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("span",{staticStyle:{float:"left","margin-bottom":"13px"}},[t._v(t._s(t.$t("updates.tjx")))]),t._v(" "),a("el-radio-group",{staticStyle:{float:"left","margin-left":"10px"},model:{value:t.checkboxVal,callback:function(e){t.checkboxVal=e},expression:"checkboxVal"}},[a("el-radio",{attrs:{label:"quantity"}},[t._v(t._s(t.$t("updates.shul")))]),t._v(" "),a("el-radio",{attrs:{label:"includeTaxMoney"}},[t._v(t._s(t.$t("updates.hsjehj")))]),t._v(" "),a("el-radio",{attrs:{label:"includeTaxPrice"}},[t._v(t._s(t.$t("updates.hsj")))]),t._v(" "),a("el-radio",{attrs:{label:"totalMoney"}},[t._v(t._s(t.$t("updates.jehj")))])],1)],1),t._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"},attrs:{shadow:"never"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:t.$t("StockQuery.productName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$t("StockQuery.supplierName"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.supplierName))])]}}])}),t._v(" "),t.formThead.indexOf("quantity")>-1?a("el-table-column",{attrs:{label:t.$t("StockQuery.quantity"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.quantity))])]}}])}):t._e(),t._v(" "),t.formThead.indexOf("includeTaxMoney")>-1?a("el-table-column",{attrs:{label:t.$t("StockQuery.includeTaxMoney2"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.includeTaxMoney))])]}}])}):t._e(),t._v(" "),t.formThead.indexOf("includeTaxPrice")>-1?a("el-table-column",{attrs:{label:t.$t("StockQuery.includeTaxPrice2"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.includeTaxPrice))])]}}])}):t._e(),t._v(" "),t.formThead.indexOf("totalMoney")>-1?a("el-table-column",{attrs:{label:t.$t("StockQuery.totalMoney"),resizable:!1,align:"center","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.totalMoney))])]}}])}):t._e()],1),t._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.getemplist.pageNum,limit:t.getemplist.pageSize},on:{"update:page":function(e){t.$set(t.getemplist,"pageNum",e)},"update:limit":function(e){t.$set(t.getemplist,"pageSize",e)},pagination:t.getlist}})],1)],1)},[],!1,null,"627f1337",null);f.options.__file="StockCount.vue";e.default=f.exports},gOr1:function(t,e,a){"use strict";var n=a("+e4/");a.n(n).a},iHeS:function(t,e,a){},u6h6:function(t,e,a){"use strict";var n=a("iHeS");a.n(n).a}}]);