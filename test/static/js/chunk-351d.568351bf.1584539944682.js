(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-351d"],{AKFf:function(e,t,i){},"FSv/":function(e,t,i){},PkJe:function(e,t,i){"use strict";var s=i("AKFf");i.n(s).a},Q2t7:function(e,t,i){"use strict";i.r(t);var s,a=i("P2sY"),o=i.n(a),n=i("moiu"),l=i("ZySA"),r=i("Mz3J"),c=i("Q4Eu"),p=i("+Khs"),d=i("41Be"),m=i("fQDf"),u={filters:{isMessageFilter:function(e){return{1:s.$t("otherlanguage.fs"),2:s.$t("otherlanguage.bfs")}[e]},isEffectiveFilter:function(e){return{1:s.$t("otherlanguage.qyong"),2:s.$t("otherlanguage.tingyong")}[e]},receiptStatFilter:function(e){return{1:s.$t("updates.zd"),2:s.$t("updates.zx"),3:s.$t("updates.jd")}[e]}},props:{detailcontrol:{type:Boolean,default:!1},detaildata:{type:Object,default:null}},data:function(){return{reviewList:[],list2:[],editVisible:this.detailcontrol,personalForm:this.detaildata,productForm:{}}},watch:{detailcontrol:function(){this.editVisible=this.detailcontrol},detaildata:function(){this.personalForm=this.detaildata.process[0],this.list2=this.detaildata.detail}},beforeCreate:function(){s=this},methods:{handlecancel:function(){this.editVisible=!1}}},f=(i("PkJe"),i("KHd+")),h=Object(f.a)(u,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,detailcontrol:e.detailcontrol,detaildata:e.detaildata,"close-on-press-escape":!1,title:e.personalForm.id+e.$t("updates.xqing"),"append-to-body":"",width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:detailcontrol",!1)}}},[i("div",{attrs:{id:"printTest"}},[i("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"63px"},attrs:{shadow:"never"}},[i("h2",{ref:"geren",staticClass:"form-name",staticStyle:{"font-size":"16px",color:"#606266","margin-top":"-5px"}},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),i("div",{staticClass:"container",staticStyle:{"margin-top":"37px"}},[i("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.personalForm,inline:!0,"status-icon":"","label-width":"130px"}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{staticClass:"print2",staticStyle:{width:"100%",display:"none"},attrs:{label:e.$t("BasicSettings.process_name")}},[e._v("\n                "+e._s(e.personalForm.processName)+"\n              ")])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("BasicSettings.is_effective")}},[i("span",[e._v(e._s(e._f("isEffectiveFilter")(e.personalForm.isEffective)))])])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("BasicSettings.type3"),prop:"sourceType"}},[i("span",[e._v(e._s(e.personalForm.typeName))])])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("BasicSettings.is_message"),prop:"sourceNumber"}},[i("span",[e._v(e._s(e._f("isMessageFilter")(e.personalForm.isMessage)))])])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("BasicSettings.effect_region"),prop:"customerId"}},[i("span",[e._v(e._s(e.personalForm.regionName))])])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{staticStyle:{width:"100%"},attrs:{label:e.$t("BasicSettings.effect_repository")}},[i("span",[e._v(e._s(e.personalForm.repositoryName))])])],1)],1)],1)],1)]),e._v(" "),i("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[i("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v("审批流程明细")]),e._v(" "),i("div",{staticClass:"container"},[i("el-editable",{ref:"editable",staticStyle:{width:"100%"},attrs:{data:e.list2,border:"",size:"medium"},on:{"update:data":function(t){e.list2=t}}},[i("el-editable-column",{attrs:{label:e.$t("Hmodule.xh"),width:"55",fixed:"left",align:"center",type:"index"}}),e._v(" "),i("el-editable-column",{attrs:{label:"流程步骤",prop:"step",width:"100",align:"center",fixed:"left"}}),e._v(" "),i("el-editable-column",{attrs:{label:"步骤描述",prop:"description",width:"100",align:"center",fixed:"left"}}),e._v(" "),i("el-editable-column",{attrs:{label:"流转条件",prop:"money",width:"80",align:"center"}}),e._v(" "),i("el-editable-column",{attrs:{label:"步骤处理人",prop:"handlerName",align:"center"}})],1)],1)])],1)])},[],!1,null,"ed4ef31a",null);h.options.__file="DetailList.vue";var g,v=h.exports,b={name:"ApprovalProcess",directives:{waves:l.a,permission:c.a,permission2:p.a},components:{Pagination:r.a,MyDialog:m.a,DetailList:v},filters:{genderFilter:function(e){return{1:"发布",2:"停用"}[e]},isMessageFilter:function(e){return{1:g.$t("updates.yes"),2:g.$t("updates.no")}[e]}},data:function(){return{detailvisible:!1,personalForm2:{},categorys:[],moreaction:"",downloadLoading:!1,list:[],total:0,tableKey:0,listLoading:!0,getemplist:{pagenum:1,pagesize:10,repositoryId:this.$store.getters.repositoryId,regionIds:this.$store.getters.regionIds},personalForm:{},editVisible:!1}},activated:function(){this.getlist()},mounted:function(){this.getlist()},beforeCreate:function(){g=this},methods:{handleDetail:function(e){var t=this;console.log(e),Object(n.s)(e.id).then(function(e){console.log(e),200===e.data.ret&&(t.personalForm=e.data.data,t.detailvisible=!0)})},open:function(e){var t=this;console.log("row",e),this.personalForm2.id=e.id,this.personalForm2.isEffective=1,Object(n.z)(this.personalForm2).then(function(e){200===e.data.ret?(t.$notify({title:t.$t("prompt.czcg"),message:t.$t("prompt.czcg"),type:"success",duration:1e3,offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})},close:function(e){var t=this;console.log("row",e),this.personalForm2.id=e.id,this.personalForm2.isEffective=2,Object(n.z)(this.personalForm2).then(function(e){200===e.data.ret?(t.$notify({title:t.$t("prompt.czcg"),message:t.$t("prompt.czcg"),type:"success",duration:1e3,offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})},checkPermission:d.a,getlist:function(){var e=this;this.listLoading=!0,Object(n.v)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount),setTimeout(function(){e.listLoading=!1},50)}),Object(n.x)().then(function(t){200===t.data.ret&&(e.categorys=t.data.data.content)})},handleFilter:function(){var e=this;Object(n.v)(this.getemplist).then(function(t){200===t.data.ret&&(e.list=t.data.data.content.list,e.total=t.data.data.content.totalCount)})},handleEdit:function(e){var t=this;console.log(e),Object(n.s)(e.id).then(function(e){console.log(e),t.personalForm.detail=e.data.data.detail}),this.editVisible=!0,this.personalForm=o()({},e),this.personalForm.isEffective=String(e.isEffective),this.personalForm.isMessage=String(e.isMessage)},refreshlist:function(e){!0===e&&this.getlist()},handleSelectionChange:function(e){this.moreaction=e},handleCommand:function(e){var t=this,i=this.moreaction.map(function(e){return e.id}).join();"delete"===e&&this.$confirm(this.$t("prompt.scts"),this.$t("prompt.ts"),{confirmButtonText:this.$t("prompt.qd"),cancelButtonText:this.$t("prompt.qx"),type:"warning"}).then(function(){Object(n.j)(i,t.$store.getters.userId).then(function(e){200===e.data.ret||100===e.data.ret?(t.$notify({title:t.$t("prompt.sccg"),type:"success",offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})}).catch(function(){t.$message({type:"info",message:t.$t("prompt.yqxsc")})})},handleDelete:function(e){var t=this;this.$confirm(this.$t("prompt.scts"),this.$t("prompt.ts"),{confirmButtonText:this.$t("prompt.qd"),cancelButtonText:this.$t("prompt.qx"),type:"warning"}).then(function(){Object(n.j)(e.id,t.$store.getters.userId).then(function(e){200===e.data.ret||100===e.data.ret?(t.$notify({title:t.$t("prompt.sccg"),type:"success",offset:100}),t.getlist()):t.$notify.error({title:"wrong",message:"wrong",offset:100})})}).catch(function(){t.$message({type:"info",message:t.$t("prompt.yqxsc")})})},handleAdd:function(){this.$router.push("/BasicSettings/NewApprovalProcess")},handleExport:function(){var e=this;this.downloadLoading=!0,Promise.all([i.e("chunk-ef4a"),i.e("chunk-069c")]).then(i.bind(null,"S/jZ")).then(function(t){var i=e.formatJson(["id","BasicSettingsName","BasicSettingsShortName","typeName","regionName","buyerName","levelName","createName","createTime"],e.list);t.export_json_to_excel({header:["供应商编号","供应商名称","供应商简称","供应商类别","所在区域","采购员","供应商优质级别","建档人","建档日期"],data:i,filename:"经销商资料表"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})},handlePrint:function(){console.log(456)}}},y=(i("VMbP"),Object(f.a)(b,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ERP-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:e.$t("BasicSettings.process_name"),clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.getemplist.process_name,callback:function(t){e.$set(e.getemplist,"process_name",t)},expression:"getemplist.process_name"}}),e._v(" "),i("el-select",{staticClass:"filter-item",attrs:{value:e.getemplist.is_effective,placeholder:"请选择状态",clearable:""},model:{value:e.getemplist.is_effective,callback:function(t){e.$set(e.getemplist,"is_effective",t)},expression:"getemplist.is_effective"}},[i("el-option",{attrs:{label:"active",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"dead",value:"2"}})],1),e._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{value:e.getemplist.type,filterable:"",placeholder:"请选择单据类型",clearable:""},model:{value:e.getemplist.type,callback:function(t){e.$set(e.getemplist,"type",t)},expression:"getemplist.type"}},e._l(e.categorys,function(e,t){return i("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})})),e._v(" "),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v(e._s(e.$t("public.search")))]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-6"],expression:"['1-39-45-6']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{loading:e.downloadLoading},on:{click:e.handleExport}},[i("svg-icon",{attrs:{"icon-class":"daochu"}}),e._v(e._s(e.$t("public.export")))],1),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-7"],expression:"['1-39-45-7']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px"},attrs:{icon:"el-icon-printer"},on:{click:e.handlePrint}},[e._v(e._s(e.$t("public.print")))]),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-1"],expression:"['1-39-45-1']"},{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{width:"86px",float:"right"},attrs:{icon:"el-icon-plus",type:"success"},on:{click:e.handleAdd}},[e._v(e._s(e.$t("public.add")))])],1),e._v(" "),i("div",{staticClass:"app-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("BasicSettings.id2"),resizable:!1,fixed:"left",prop:"id",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"link-type",on:{click:function(i){e.handleDetail(t.row)}}},[e._v(e._s(t.row.id))])]}}])},[i("detail-list",{attrs:{detailcontrol:e.detailvisible,detaildata:e.personalForm},on:{"update:detailcontrol":function(t){e.detailvisible=t},"update:detaildata":function(t){e.personalForm=t}}})],1),e._v(" "),i("el-table-column",{attrs:{label:e.$t("BasicSettings.process_name"),resizable:!1,fixed:"left",prop:"processName",align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.processName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("BasicSettings.isEffective"),resizable:!1,prop:"isEffective",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._f("genderFilter")(t.row.isEffective)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("BasicSettings.type3"),resizable:!1,align:"center",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.typeName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("BasicSettings.isMessage"),resizable:!1,prop:"isMessage",align:"center",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(e._f("isMessageFilter")(t.row.isMessage)))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("UnitGroup.createPersonName"),resizable:!1,align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createPersonName))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("UnitGroup.createDate"),resizable:!1,align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.createTime))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:e.$t("public.actions"),resizable:!1,align:"center","min-width":"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-8"],expression:"['1-39-45-8']"},{name:"show",rawName:"v-show",value:2===t.row.isEffective,expression:"scope.row.isEffective === 2"}],staticStyle:{"margin-left":"18px"},attrs:{title:"启用",type:"primary",size:"mini",icon:"el-icon-check",circle:""},on:{click:function(i){e.open(t.row)}}}),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-9"],expression:"['1-39-45-9']"},{name:"show",rawName:"v-show",value:1===t.row.isEffective,expression:"scope.row.isEffective === 1"}],attrs:{title:"停用",type:"primary",size:"mini",icon:"el-icon-close",circle:""},on:{click:function(i){e.close(t.row)}}}),e._v(" "),i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:["1-39-45-3"],expression:"['1-39-45-3']"}],attrs:{type:"primary",size:"mini"},on:{click:function(i){e.handleEdit(t.row)}}},[e._v(e._s(e.$t("public.edit")))])]}}])})],1),e._v(" "),i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.getemplist.pagenum,limit:e.getemplist.pagesize},on:{"update:page":function(t){e.$set(e.getemplist,"pagenum",t)},"update:limit":function(t){e.$set(e.getemplist,"pagesize",t)},pagination:e.getlist}}),e._v(" "),i("my-dialog",{attrs:{control:e.editVisible,editdata:e.personalForm},on:{"update:control":function(t){e.editVisible=t},"update:editdata":function(t){e.personalForm=t},rest:e.refreshlist}})],1)])},[],!1,null,"04e97be8",null));y.options.__file="ApprovalProcess.vue";t.default=y.exports},S5SR:function(e,t,i){"use strict";var s=i("gtdp");i.n(s).a},VMbP:function(e,t,i){"use strict";var s=i("FSv/");i.n(s).a},fQDf:function(e,t,i){"use strict";var s=i("gDS+"),a=i.n(s),o=i("jWXv"),n=i.n(o),l=i("rfXi"),r=i.n(l),c=i("ej3i"),p=i.n(c),d=i("6HaC"),m=i("moiu"),u=i("1ZjH"),f=i("XiP3"),h={components:{MyEmp:u.a,MyEmp2:f.a},props:{control:{type:Boolean,default:!1},editdata:{type:Object,default:null}},data:function(){return{checklist:[],kongscope:"",region:[],editVisible:this.control,personalForm:this.editdata,stepHandler:"",handlerName:"",empcontrol:!1,empcontrol2:!1,categorys:[],validRules:{step:[{required:!0,message:"请输入流程步骤",trigger:"blur"}],money:[{validator:function(e,t,i){var s=Number(t),a=p()(s);console.log("value1222222222222222",a),a?i():i(new Error("请输入数字类型"))},trigger:"blur"}],handlerName:[{required:!0,message:"请选择步骤处理人",trigger:"blue"}]},moreaction:"",loading:!1,list2:[],regions:[],repositories:[],props:{value:"id",label:"regionName",children:"regionListVos"},personalrules:{processName:[{required:!0,message:"请输入流程名称",trigger:"blur"}],type:[{required:!0,message:"请选择单据类型",trigger:"change"}],region:[{required:!0,message:"请选择区域",trigger:"change"}]}}},watch:{control:function(){this.editVisible=this.control},editdata:function(){this.personalForm=this.editdata,console.log(this.list2),this.getnationlist()}},created:function(){this.getnationlist()},beforeCreate:function(){this},methods:{cancelId:function(e){console.log("执行===================================》",e),console.log("执行2222222===================================》",this.checklist);for(var t=0;t<this.checklist.length;t++)for(var i=0;i<e.length;i++)Number(this.checklist[t].id)===Number(e[i])&&(console.log("删除了数据"),this.checklist.splice(t,1));console.log("处理过的数据",this.processval)},personName:function(e){console.log("store=========================>",this.$store.getters.myflagApproval);for(var t=this.$store.getters.myflagApproval,i=0;i<this.checklist.length;i++)for(var s=0;s<t.length;s++)Number(this.checklist[i].id)===Number(t[s])&&this.checklist.splice(i,1);var a=this.checklist;if(console.log("人员名称",e),console.log("原来的人员",a),1===a.length)e=""===e?a[0].personName:e+","+a[0].personName;else for(var o=0;o<a.length;o++)e=""===e?a[o].personName+","+e:e+","+a[o].personName;e.split(",");var l=r()(new n.a(e.split(","))).join(",");this.kongscope.row.handlerName=l,this.kongscope.row.stepHandlerName=l,console.log(" this.kongscope.row.handlerName",this.kongscope.row.handlerName),this.$store.dispatch("getmyflagApproval","")},personIds:function(e){console.log(this.$store.getters.myflagApproval);for(var t=this.$store.getters.myflagApproval,i=0;i<this.checklist.length;i++)for(var s=0;s<t.length;s++)Number(this.checklist[i].id)===Number(t[s])&&this.checklist.splice(i,1);var a=this.checklist;if(1===a.length)e=""===e?a[0].id:e+","+a[0].id;else for(var o=0;o<a.length;o++)e=""===e?a[o].id+","+e:e+","+a[o].id;e.split(",");var l=r()(new n.a(e.split(","))).join(",");this.kongscope.row.stepHandler=","+l+",",console.log("this.kongscope.row.stepHandler",this.kongscope.row.stepHandler),this.$store.dispatch("getmyflagApproval","")},getnationlist:function(){var e=this;Object(d.E)().then(function(t){200===t.data.ret&&(e.regions=e.tranKTree(t.data.data.content))}),Object(m.s)(this.personalForm.id).then(function(t){200===t.data.ret&&(e.list2=t.data.data.detail)}),Object(m.x)().then(function(t){200===t.data.ret&&(e.categorys=t.data.data.content)})},tranKTree:function(e){var t=this;if(e&&e.length)return e.map(function(e){return{id:e.id,regionName:e.regionName,regionListVos:t.tranKTree(e.regionListVos)}})},handlechange4:function(e){var t=this,i=e[e.length-1];this.personalForm.effect_region=i,Object(d.J)(i).then(function(e){console.log(e),200===e.data.ret&&(t.repositories=e.data.data.content.list)})},restAllForm:function(){this.personalForm={}},handlechoose:function(e){if(console.log("scope=================>",e),this.empcontrol2=!0,e.row.stepHandler){for(var t=e.row.stepHandler,i=(t=t.replace(/,/g," ")).split(" "),s=e.row.stepHandlerName.split(","),a=0;a<i.length;a++)""===i[a]&&(i.splice(a,1),a--);console.log("aaa",i);for(var o=[],n=0;n<i.length;n++){var l={personName:s[n],id:i[n]};o.push(l)}this.checklist=o,console.log(this.checklist)}this.kongscope=e,this.kongscope.row.step=e.$index+1},fuzhi:function(e){e.row.handlerName=this.handlerName},chuli:function(e,t){this.kongscope.row.handlerName=t.personName,this.kongscope.row.stepHandler=t.id,console.log(e.row.step),null===e.row.step&&(e.row.step=e.$index+1)},selectEvent:function(e,t){console.log(e),console.log(t)},handleStep:function(e){console.log(e)},insertEvent:function(e){this.$refs.editable.insertAt({step:1},e)},currentChangeEvent:function(e,t){console.log(e)},handleEditok:function(){var e=this;console.log(this.personalForm);var t=this.$refs.editable.getRecords();if(0===this.$refs.editable.getRecords().length)return this.$notify.error({title:"wrong",message:"请填写细则",offset:100}),!1;1===t.length?t[0].money="":t[t.length-1].money="";var i=a()(t);console.log(i),Object(m.D)(this.personalForm,i).then(function(t){200===t.data.ret?(e.$notify({title:"修改成功",message:"修改成功",type:"success",duration:1e3,offset:100}),e.$emit("rest",!0),e.$refs.personalForm.clearValidate(),e.$refs.personalForm.resetFields(),e.editVisible=!1):e.$notify.error({title:"wrong",message:"wrong",offset:100})})},handlecancel:function(){this.$refs.personalForm.clearValidate(),this.$refs.personalForm.resetFields(),this.editVisible=!1}}},g=(i("S5SR"),i("KHd+")),v=Object(g.a)(h,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"edit",attrs:{visible:e.editVisible,control:e.control,editdata:e.editdata,"close-on-press-escape":!1,title:e.$t("updates.xgspgz"),width:"1010px",top:"-10px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){e.$emit("update:control",!1)}}},[i("h2",{ref:"geren",staticClass:"form-name"},[e._v(e._s(e.$t("Hmodule.basicinfo")))]),e._v(" "),i("div",{staticClass:"container"},[i("el-form",{ref:"personalForm",staticClass:"demo-ruleForm",staticStyle:{"margin-left":"30px"},attrs:{model:e.personalForm,rules:e.personalrules,inline:!0,"status-icon":"","label-position":"top","label-width":"300px"}},[i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.process_name"),prop:"processName"}},[i("el-input",{attrs:{placeholder:"请输入流程名称",clearable:""},model:{value:e.personalForm.processName,callback:function(t){e.$set(e.personalForm,"processName",t)},expression:"personalForm.processName"}})],1),e._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.is_effective")}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择启用状态"},model:{value:e.personalForm.isEffective,callback:function(t){e.$set(e.personalForm,"isEffective",t)},expression:"personalForm.isEffective"}},[i("el-option",{attrs:{label:"on duty",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"closed",value:"2"}})],1)],1),e._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.type3"),prop:"type"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择单据类型",filterable:"",disabled:""},model:{value:e.personalForm.type,callback:function(t){e.$set(e.personalForm,"type",t)},expression:"personalForm.type"}},e._l(e.categorys,function(e,t){return i("el-option",{key:t,attrs:{value:e.id,label:e.categoryName}})}))],1),e._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.is_message")}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("updates.qxz")},model:{value:e.personalForm.isMessage,callback:function(t){e.$set(e.personalForm,"isMessage",t)},expression:"personalForm.isMessage"}},[i("el-option",{attrs:{label:"发送",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"不发送",value:"2"}})],1)],1),e._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.effect_region"),prop:"process_name"}},[i("el-input",{attrs:{disabled:""},model:{value:e.personalForm.regionName,callback:function(t){e.$set(e.personalForm,"regionName",t)},expression:"personalForm.regionName"}})],1),e._v(" "),i("el-form-item",{staticStyle:{width:"40%","margin-top":"1%"},attrs:{label:e.$t("BasicSettings.effect_repository"),prop:"process_name"}},[i("el-input",{attrs:{disabled:""},model:{value:e.personalForm.repositoryName,callback:function(t){e.$set(e.personalForm,"repositoryName",t)},expression:"personalForm.repositoryName"}})],1)],1)],1),e._v(" "),i("h2",{ref:"fuzhu",staticClass:"form-name"},[e._v(e._s(e.$t("updates.splcbz")))]),e._v(" "),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"50px"}},[i("el-button",{attrs:{type:"success"},on:{click:function(t){e.insertEvent(-1)}}},[e._v(e._s(e.$t("updates.tj")))]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.$refs.editable.removeSelecteds()}}},[e._v(e._s(e.$t("Hmodule.delete")))])],1),e._v(" "),i("div",{staticClass:"container",staticStyle:{"margin-top":"20px"}},[i("el-editable",{ref:"editable",staticClass:"click-table1",staticStyle:{width:"100%"},attrs:{data:e.list2,"edit-config":{showIcon:!1,showStatus:!0},"edit-rules":e.validRules,stripe:"",border:"",size:"medium"},on:{"update:data":function(t){e.list2=t},select:e.selectEvent,"current-change":e.currentChangeEvent}},[i("el-editable-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),i("el-editable-column",{attrs:{label:"流程步骤",prop:"step",type:"index",align:"center",width:"150px"}}),e._v(" "),i("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},prop:"description",align:"center",label:"步骤描述",width:"200px"}}),e._v(" "),i("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},prop:"money",align:"center",label:"流转条件",width:"200px"}}),e._v(" "),i("el-editable-column",{attrs:{"edit-render":{name:"ElInput",type:"visible"},prop:"handlerName",align:"center",label:"步骤处理人","min-width":"500px"},scopedSlots:e._u([{key:"edit",fn:function(t){return[i("el-input",{staticStyle:{"margin-top":"8px"},on:{focus:function(i){e.handlechoose(t)},input:function(i){e.$refs.editable.updateStatus(t)}},model:{value:t.row.handlerName,callback:function(i){e.$set(t.row,"handlerName",i)},expression:"scope.row.handlerName"}})]}}])}),e._v(" "),i("my-emp",{attrs:{control:e.empcontrol},on:{"update:control":function(t){e.empcontrol=t},chuli:function(t){e.chuli(e.scope,t)}}}),e._v(" "),i("my-emp2",{attrs:{control:e.empcontrol2,checklist:e.checklist},on:{"update:control":function(t){e.empcontrol2=t},"update:checklist":function(t){e.checklist=t},personName:function(t){e.personName(t)},personIds:function(t){e.personIds(t)},cancelId:function(t){e.cancelId(t)}}})],1)],1),e._v(" "),i("div",{staticClass:"buttons",staticStyle:{"margin-top":"20px","margin-left":"30px"}},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleEditok()}}},[e._v(e._s(e.$t("public.edit")))]),e._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(t){e.handlecancel()}}},[e._v(e._s(e.$t("Hmodule.cancel")))])],1)])},[],!1,null,"3603f574",null);v.options.__file="MyDialog.vue";t.a=v.exports},gtdp:function(e,t,i){}}]);